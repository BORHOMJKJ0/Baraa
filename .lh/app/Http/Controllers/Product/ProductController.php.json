{
    "sourceFile": "app/Http/Controllers/Product/ProductController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 17,
            "patches": [
                {
                    "date": 1746894591582,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746894598199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,9 @@\n      *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n      *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n      *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n      *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"pric\", type=\"integer\", example=979),\n+     *                         @OA\\Property(property=\"ampunt\", type=\"integer\", example=979),\n      *                         @OA\\Property(property=\"category\", type=\"string\", example=\"autem\")\n      *                     )\n      *                 ),\n      *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n"
                },
                {
                    "date": 1746897603998,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n      *         name=\"column\",\n      *         in=\"query\",\n      *         description=\"Column to order products by\",\n      *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"current_price\", \"old_price\", \"created_at\", \"updated_at\"}, example=\"name\")\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"old_price\", \"created_at\", \"updated_at\"}, example=\"name\")\n      *     ),\n      *\n      *     @OA\\Parameter(\n      *         name=\"direction\",\n@@ -82,9 +82,9 @@\n      *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n      *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n      *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n      *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"ampunt\", type=\"integer\", example=979),\n+     *                         @OA\\Property(property=\"amount\", type=\"integer\", example=979),\n      *                         @OA\\Property(property=\"category\", type=\"string\", example=\"autem\")\n      *                     )\n      *                 ),\n      *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n"
                },
                {
                    "date": 1746897634266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,502 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\", \"updated_at\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"amount\", type=\"integer\", example=979),\n+     *                         @OA\\Property(property=\"category\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, created_at, updated_at. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897666345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,502 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"amount\", type=\"integer\", example=979),\n+     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, created_at, updated_at. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897675500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,8 @@\n      *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n      *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n      *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n      *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"amount\", type=\"integer\", example=979),\n      *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n      *                     )\n      *                 ),\n      *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n@@ -498,1009 +497,5 @@\n     public function destroy(Product $product): JsonResponse\n     {\n         return $this->productService->deleteProduct($product);\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers\\Product;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Http\\Requests\\Product\\CreateProductRequest;\n-use App\\Http\\Requests\\Product\\UpdateProductRequest;\n-use App\\Models\\Product\\Product;\n-use App\\Services\\Category\\CategoryService;\n-use App\\Services\\Product\\ProductService;\n-use Illuminate\\Http\\JsonResponse;\n-use Illuminate\\Http\\Request;\n-\n-class ProductController extends Controller\n-{\n-    public function __construct(protected ProductService $productService) {}\n-    /**\n-     * @OA\\SecurityScheme(\n-     *     securityScheme=\"bearerAuth\",\n-     *     type=\"http\",\n-     *     scheme=\"bearer\",\n-     *     bearerFormat=\"JWT\",\n-     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n-     * )\n-     */\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products\",\n-     *     summary=\"Get all products with sorting and pagination\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"page\",\n-     *         in=\"query\",\n-     *         description=\"Page number\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"items\",\n-     *         in=\"query\",\n-     *         description=\"Number of items per page\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"column\",\n-     *         in=\"query\",\n-     *         description=\"Column to order products by\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\", \"updated_at\"}, example=\"name\")\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"direction\",\n-     *         in=\"query\",\n-     *         description=\"Sort direction\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Products retrieved successfully\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Products\",\n-     *                     type=\"array\",\n-     *\n-     *                     @OA\\Items(\n-     *\n-     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n-     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n-     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n-     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"amount\", type=\"integer\", example=979),\n-     *                         @OA\\Property(property=\"category\", type=\"string\", example=\"autem\")\n-     *                     )\n-     *                 ),\n-     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n-     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Invalid sort column or direction\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, created_at, updated_at. Allowed directions: asc, desc.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function index(Request $request): JsonResponse\n-    {\n-        return $this->productService->getAllProducts($request);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products\",\n-     *     summary=\"Create product\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=201,\n-     *         description=\"Product created successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n-     *             @OA\\Property(property=\"data\", type=\"object\",\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n-     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n-     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function store(CreateProductRequest $request): JsonResponse\n-    {\n-        return $this->productService->createProduct($request->validated(), $request);\n-    }\n-\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Get product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to retrieve\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product retrieved successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n-     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n-     *                     @OA\\Property(\n-     *                         property=\"amounts\",\n-     *                         type=\"array\",\n-     *\n-     *                         @OA\\Items(\n-     *                             type=\"object\",\n-     *\n-     *                             @OA\\Property(\n-     *                                 property=\"classification\",\n-     *                                 type=\"object\",\n-     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n-     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n-     *                             ),\n-     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n-     *                         )\n-     *                     )\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function show(Product $product): JsonResponse\n-    {\n-        return $this->productService->getProductById($product);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Update product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to update\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product updated successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=403,\n-     *         description=\"You are not authorized to update this Product.\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n-    {\n-        return $this->productService->updateProduct($product, $request->validated());\n-    }\n-\n-    /**\n-     * @OA\\Delete(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Delete a product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to delete\",\n-     *\n-     *         @OA\\Schema(\n-     *             type=\"integer\",\n-     *             example=10\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product deleted successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *          @OA\\Response(\n-     *          response=403,\n-     *          description=\"You are not authorized to delete this Product.\",\n-     *\n-     *          @OA\\JsonContent(\n-     *\n-     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n-     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *          )\n-     *      ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function destroy(Product $product): JsonResponse\n-    {\n-        return $this->productService->deleteProduct($product);\n-    }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers\\Product;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Http\\Requests\\Product\\CreateProductRequest;\n-use App\\Http\\Requests\\Product\\UpdateProductRequest;\n-use App\\Models\\Product\\Product;\n-use App\\Services\\Category\\CategoryService;\n-use App\\Services\\Product\\ProductService;\n-use Illuminate\\Http\\JsonResponse;\n-use Illuminate\\Http\\Request;\n-\n-class ProductController extends Controller\n-{\n-    public function __construct(protected ProductService $productService) {}\n-    /**\n-     * @OA\\SecurityScheme(\n-     *     securityScheme=\"bearerAuth\",\n-     *     type=\"http\",\n-     *     scheme=\"bearer\",\n-     *     bearerFormat=\"JWT\",\n-     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n-     * )\n-     */\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products\",\n-     *     summary=\"Get all products with sorting and pagination\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"page\",\n-     *         in=\"query\",\n-     *         description=\"Page number\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"items\",\n-     *         in=\"query\",\n-     *         description=\"Number of items per page\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"column\",\n-     *         in=\"query\",\n-     *         description=\"Column to order products by\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"old_price\", \"created_at\", \"updated_at\"}, example=\"name\")\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"direction\",\n-     *         in=\"query\",\n-     *         description=\"Sort direction\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Products retrieved successfully\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Products\",\n-     *                     type=\"array\",\n-     *\n-     *                     @OA\\Items(\n-     *\n-     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n-     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n-     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n-     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"amount\", type=\"integer\", example=979),\n-     *                         @OA\\Property(property=\"category\", type=\"string\", example=\"autem\")\n-     *                     )\n-     *                 ),\n-     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n-     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Invalid sort column or direction\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, created_at, updated_at. Allowed directions: asc, desc.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function index(Request $request): JsonResponse\n-    {\n-        return $this->productService->getAllProducts($request);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products\",\n-     *     summary=\"Create product\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=201,\n-     *         description=\"Product created successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n-     *             @OA\\Property(property=\"data\", type=\"object\",\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n-     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n-     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function store(CreateProductRequest $request): JsonResponse\n-    {\n-        return $this->productService->createProduct($request->validated(), $request);\n-    }\n-\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Get product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to retrieve\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product retrieved successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n-     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n-     *                     @OA\\Property(\n-     *                         property=\"amounts\",\n-     *                         type=\"array\",\n-     *\n-     *                         @OA\\Items(\n-     *                             type=\"object\",\n-     *\n-     *                             @OA\\Property(\n-     *                                 property=\"classification\",\n-     *                                 type=\"object\",\n-     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n-     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n-     *                             ),\n-     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n-     *                         )\n-     *                     )\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function show(Product $product): JsonResponse\n-    {\n-        return $this->productService->getProductById($product);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Update product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to update\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product updated successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=403,\n-     *         description=\"You are not authorized to update this Product.\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n-    {\n-        return $this->productService->updateProduct($product, $request->validated());\n-    }\n-\n-    /**\n-     * @OA\\Delete(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Delete a product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to delete\",\n-     *\n-     *         @OA\\Schema(\n-     *             type=\"integer\",\n-     *             example=10\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product deleted successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *          @OA\\Response(\n-     *          response=403,\n-     *          description=\"You are not authorized to delete this Product.\",\n-     *\n-     *          @OA\\JsonContent(\n-     *\n-     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n-     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *          )\n-     *      ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function destroy(Product $product): JsonResponse\n-    {\n-        return $this->productService->deleteProduct($product);\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897693861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,9 @@\n      *\n      *         @OA\\JsonContent(\n      *\n      *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, created_at, updated_at. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, , updated_at. Allowed directions: asc, desc.\"),\n      *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n      *         )\n      *     ),\n      *\n"
                },
                {
                    "date": 1746897704395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,501 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897711860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n      *             mediaType=\"multipart/form-data\",\n      *\n      *             @OA\\Schema(\n      *                 type=\"object\",\n-     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n+     *                 required={\"name\", \"price\", \"current_price\", \"category_id\"},\n      *\n      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n      *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n      *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n@@ -497,506 +497,5 @@\n     public function destroy(Product $product): JsonResponse\n     {\n         return $this->productService->deleteProduct($product);\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers\\Product;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Http\\Requests\\Product\\CreateProductRequest;\n-use App\\Http\\Requests\\Product\\UpdateProductRequest;\n-use App\\Models\\Product\\Product;\n-use App\\Services\\Category\\CategoryService;\n-use App\\Services\\Product\\ProductService;\n-use Illuminate\\Http\\JsonResponse;\n-use Illuminate\\Http\\Request;\n-\n-class ProductController extends Controller\n-{\n-    public function __construct(protected ProductService $productService) {}\n-    /**\n-     * @OA\\SecurityScheme(\n-     *     securityScheme=\"bearerAuth\",\n-     *     type=\"http\",\n-     *     scheme=\"bearer\",\n-     *     bearerFormat=\"JWT\",\n-     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n-     * )\n-     */\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products\",\n-     *     summary=\"Get all products with sorting and pagination\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"page\",\n-     *         in=\"query\",\n-     *         description=\"Page number\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"items\",\n-     *         in=\"query\",\n-     *         description=\"Number of items per page\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"column\",\n-     *         in=\"query\",\n-     *         description=\"Column to order products by\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"direction\",\n-     *         in=\"query\",\n-     *         description=\"Sort direction\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Products retrieved successfully\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Products\",\n-     *                     type=\"array\",\n-     *\n-     *                     @OA\\Items(\n-     *\n-     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n-     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n-     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n-     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n-     *                     )\n-     *                 ),\n-     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n-     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Invalid sort column or direction\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, , updated_at. Allowed directions: asc, desc.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function index(Request $request): JsonResponse\n-    {\n-        return $this->productService->getAllProducts($request);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products\",\n-     *     summary=\"Create product\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=201,\n-     *         description=\"Product created successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n-     *             @OA\\Property(property=\"data\", type=\"object\",\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n-     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n-     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function store(CreateProductRequest $request): JsonResponse\n-    {\n-        return $this->productService->createProduct($request->validated(), $request);\n-    }\n-\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Get product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to retrieve\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product retrieved successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n-     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n-     *                     @OA\\Property(\n-     *                         property=\"amounts\",\n-     *                         type=\"array\",\n-     *\n-     *                         @OA\\Items(\n-     *                             type=\"object\",\n-     *\n-     *                             @OA\\Property(\n-     *                                 property=\"classification\",\n-     *                                 type=\"object\",\n-     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n-     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n-     *                             ),\n-     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n-     *                         )\n-     *                     )\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function show(Product $product): JsonResponse\n-    {\n-        return $this->productService->getProductById($product);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Update product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to update\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product updated successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=403,\n-     *         description=\"You are not authorized to update this Product.\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n-    {\n-        return $this->productService->updateProduct($product, $request->validated());\n-    }\n-\n-    /**\n-     * @OA\\Delete(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Delete a product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to delete\",\n-     *\n-     *         @OA\\Schema(\n-     *             type=\"integer\",\n-     *             example=10\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product deleted successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *          @OA\\Response(\n-     *          response=403,\n-     *          description=\"You are not authorized to delete this Product.\",\n-     *\n-     *          @OA\\JsonContent(\n-     *\n-     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n-     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *          )\n-     *      ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function destroy(Product $product): JsonResponse\n-    {\n-        return $this->productService->deleteProduct($product);\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897717800,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,9 +138,9 @@\n      *             mediaType=\"multipart/form-data\",\n      *\n      *             @OA\\Schema(\n      *                 type=\"object\",\n-     *                 required={\"name\", \"price\", \"current_price\", \"category_id\"},\n+     *                 required={\"name\", \"price\", \"amount\", \"category_id\"},\n      *\n      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n      *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n      *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n"
                },
                {
                    "date": 1746897728802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,501 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897734512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n      *                 type=\"object\",\n      *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n      *\n      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n      *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n      *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n      *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n      *             )\n@@ -497,506 +497,5 @@\n     public function destroy(Product $product): JsonResponse\n     {\n         return $this->productService->deleteProduct($product);\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers\\Product;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Http\\Requests\\Product\\CreateProductRequest;\n-use App\\Http\\Requests\\Product\\UpdateProductRequest;\n-use App\\Models\\Product\\Product;\n-use App\\Services\\Category\\CategoryService;\n-use App\\Services\\Product\\ProductService;\n-use Illuminate\\Http\\JsonResponse;\n-use Illuminate\\Http\\Request;\n-\n-class ProductController extends Controller\n-{\n-    public function __construct(protected ProductService $productService) {}\n-    /**\n-     * @OA\\SecurityScheme(\n-     *     securityScheme=\"bearerAuth\",\n-     *     type=\"http\",\n-     *     scheme=\"bearer\",\n-     *     bearerFormat=\"JWT\",\n-     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n-     * )\n-     */\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products\",\n-     *     summary=\"Get all products with sorting and pagination\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"page\",\n-     *         in=\"query\",\n-     *         description=\"Page number\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"items\",\n-     *         in=\"query\",\n-     *         description=\"Number of items per page\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"column\",\n-     *         in=\"query\",\n-     *         description=\"Column to order products by\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"direction\",\n-     *         in=\"query\",\n-     *         description=\"Sort direction\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Products retrieved successfully\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Products\",\n-     *                     type=\"array\",\n-     *\n-     *                     @OA\\Items(\n-     *\n-     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n-     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n-     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n-     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n-     *                     )\n-     *                 ),\n-     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n-     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Invalid sort column or direction\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function index(Request $request): JsonResponse\n-    {\n-        return $this->productService->getAllProducts($request);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products\",\n-     *     summary=\"Create product\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *                 required={\"name\", \"price\", \"amount\", \"category_id\"},\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=201,\n-     *         description=\"Product created successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n-     *             @OA\\Property(property=\"data\", type=\"object\",\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n-     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n-     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function store(CreateProductRequest $request): JsonResponse\n-    {\n-        return $this->productService->createProduct($request->validated(), $request);\n-    }\n-\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Get product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to retrieve\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product retrieved successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n-     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n-     *                     @OA\\Property(\n-     *                         property=\"amounts\",\n-     *                         type=\"array\",\n-     *\n-     *                         @OA\\Items(\n-     *                             type=\"object\",\n-     *\n-     *                             @OA\\Property(\n-     *                                 property=\"classification\",\n-     *                                 type=\"object\",\n-     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n-     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n-     *                             ),\n-     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n-     *                         )\n-     *                     )\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function show(Product $product): JsonResponse\n-    {\n-        return $this->productService->getProductById($product);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Update product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to update\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product updated successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=403,\n-     *         description=\"You are not authorized to update this Product.\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n-    {\n-        return $this->productService->updateProduct($product, $request->validated());\n-    }\n-\n-    /**\n-     * @OA\\Delete(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Delete a product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to delete\",\n-     *\n-     *         @OA\\Schema(\n-     *             type=\"integer\",\n-     *             example=10\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product deleted successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *          @OA\\Response(\n-     *          response=403,\n-     *          description=\"You are not authorized to delete this Product.\",\n-     *\n-     *          @OA\\JsonContent(\n-     *\n-     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n-     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *          )\n-     *      ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function destroy(Product $product): JsonResponse\n-    {\n-        return $this->productService->deleteProduct($product);\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897743949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,501 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"amount\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897751377,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,9 +143,9 @@\n      *\n      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n      *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n      *                 @OA\\Property(property=\"amount\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"store_id\", type=\"integer\", example=2),\n      *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n      *             )\n      *         )\n      *     ),\n@@ -497,506 +497,5 @@\n     public function destroy(Product $product): JsonResponse\n     {\n         return $this->productService->deleteProduct($product);\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers\\Product;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Http\\Requests\\Product\\CreateProductRequest;\n-use App\\Http\\Requests\\Product\\UpdateProductRequest;\n-use App\\Models\\Product\\Product;\n-use App\\Services\\Category\\CategoryService;\n-use App\\Services\\Product\\ProductService;\n-use Illuminate\\Http\\JsonResponse;\n-use Illuminate\\Http\\Request;\n-\n-class ProductController extends Controller\n-{\n-    public function __construct(protected ProductService $productService) {}\n-    /**\n-     * @OA\\SecurityScheme(\n-     *     securityScheme=\"bearerAuth\",\n-     *     type=\"http\",\n-     *     scheme=\"bearer\",\n-     *     bearerFormat=\"JWT\",\n-     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n-     * )\n-     */\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products\",\n-     *     summary=\"Get all products with sorting and pagination\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"page\",\n-     *         in=\"query\",\n-     *         description=\"Page number\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"items\",\n-     *         in=\"query\",\n-     *         description=\"Number of items per page\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"column\",\n-     *         in=\"query\",\n-     *         description=\"Column to order products by\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"direction\",\n-     *         in=\"query\",\n-     *         description=\"Sort direction\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Products retrieved successfully\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Products\",\n-     *                     type=\"array\",\n-     *\n-     *                     @OA\\Items(\n-     *\n-     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n-     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n-     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n-     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n-     *                     )\n-     *                 ),\n-     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n-     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Invalid sort column or direction\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function index(Request $request): JsonResponse\n-    {\n-        return $this->productService->getAllProducts($request);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products\",\n-     *     summary=\"Create product\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=201,\n-     *         description=\"Product created successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n-     *             @OA\\Property(property=\"data\", type=\"object\",\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n-     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n-     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function store(CreateProductRequest $request): JsonResponse\n-    {\n-        return $this->productService->createProduct($request->validated(), $request);\n-    }\n-\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Get product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to retrieve\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product retrieved successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n-     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n-     *                     @OA\\Property(\n-     *                         property=\"amounts\",\n-     *                         type=\"array\",\n-     *\n-     *                         @OA\\Items(\n-     *                             type=\"object\",\n-     *\n-     *                             @OA\\Property(\n-     *                                 property=\"classification\",\n-     *                                 type=\"object\",\n-     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n-     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n-     *                             ),\n-     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n-     *                         )\n-     *                     )\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function show(Product $product): JsonResponse\n-    {\n-        return $this->productService->getProductById($product);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Update product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to update\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product updated successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=403,\n-     *         description=\"You are not authorized to update this Product.\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n-    {\n-        return $this->productService->updateProduct($product, $request->validated());\n-    }\n-\n-    /**\n-     * @OA\\Delete(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Delete a product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to delete\",\n-     *\n-     *         @OA\\Schema(\n-     *             type=\"integer\",\n-     *             example=10\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product deleted successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *          @OA\\Response(\n-     *          response=403,\n-     *          description=\"You are not authorized to delete this Product.\",\n-     *\n-     *          @OA\\JsonContent(\n-     *\n-     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n-     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *          )\n-     *      ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function destroy(Product $product): JsonResponse\n-    {\n-        return $this->productService->deleteProduct($product);\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897765525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,502 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Description\"),\n+     *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"amount\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"store_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897775118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n      *                 type=\"object\",\n      *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n      *\n      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *      *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Description\"),\n+     *                 @OA\\Property(property=\"description\", type=\"string\", example=\"New Product Description\"),\n      *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n      *                 @OA\\Property(property=\"amount\", type=\"integer\", example=1),\n      *                 @OA\\Property(property=\"store_id\", type=\"integer\", example=2),\n      *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n@@ -498,506 +498,5 @@\n     public function destroy(Product $product): JsonResponse\n     {\n         return $this->productService->deleteProduct($product);\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers\\Product;\n-\n-use App\\Http\\Controllers\\Controller;\n-use App\\Http\\Requests\\Product\\CreateProductRequest;\n-use App\\Http\\Requests\\Product\\UpdateProductRequest;\n-use App\\Models\\Product\\Product;\n-use App\\Services\\Category\\CategoryService;\n-use App\\Services\\Product\\ProductService;\n-use Illuminate\\Http\\JsonResponse;\n-use Illuminate\\Http\\Request;\n-\n-class ProductController extends Controller\n-{\n-    public function __construct(protected ProductService $productService) {}\n-    /**\n-     * @OA\\SecurityScheme(\n-     *     securityScheme=\"bearerAuth\",\n-     *     type=\"http\",\n-     *     scheme=\"bearer\",\n-     *     bearerFormat=\"JWT\",\n-     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n-     * )\n-     */\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products\",\n-     *     summary=\"Get all products with sorting and pagination\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"page\",\n-     *         in=\"query\",\n-     *         description=\"Page number\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"items\",\n-     *         in=\"query\",\n-     *         description=\"Number of items per page\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"column\",\n-     *         in=\"query\",\n-     *         description=\"Column to order products by\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n-     *     ),\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"direction\",\n-     *         in=\"query\",\n-     *         description=\"Sort direction\",\n-     *\n-     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Products retrieved successfully\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Products\",\n-     *                     type=\"array\",\n-     *\n-     *                     @OA\\Items(\n-     *\n-     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n-     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n-     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n-     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n-     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n-     *                     )\n-     *                 ),\n-     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n-     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Invalid sort column or direction\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function index(Request $request): JsonResponse\n-    {\n-        return $this->productService->getAllProducts($request);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products\",\n-     *     summary=\"Create product\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n-     *                 @OA\\Property(property=\"amount\", type=\"integer\", example=1),\n-     *                 @OA\\Property(property=\"store_id\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=201,\n-     *         description=\"Product created successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n-     *             @OA\\Property(property=\"data\", type=\"object\",\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n-     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n-     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function store(CreateProductRequest $request): JsonResponse\n-    {\n-        return $this->productService->createProduct($request->validated(), $request);\n-    }\n-\n-    /**\n-     * @OA\\Get(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Get product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to retrieve\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=10)\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product retrieved successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n-     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n-     *                     @OA\\Property(\n-     *                         property=\"amounts\",\n-     *                         type=\"array\",\n-     *\n-     *                         @OA\\Items(\n-     *                             type=\"object\",\n-     *\n-     *                             @OA\\Property(\n-     *                                 property=\"classification\",\n-     *                                 type=\"object\",\n-     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n-     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n-     *                             ),\n-     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n-     *                         )\n-     *                     )\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function show(Product $product): JsonResponse\n-    {\n-        return $this->productService->getProductById($product);\n-    }\n-\n-    /**\n-     * @OA\\Post(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Update product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to update\",\n-     *\n-     *         @OA\\Schema(type=\"integer\", example=1)\n-     *     ),\n-     *\n-     *     @OA\\RequestBody(\n-     *         required=true,\n-     *\n-     *         @OA\\MediaType(\n-     *             mediaType=\"multipart/form-data\",\n-     *\n-     *             @OA\\Schema(\n-     *                 type=\"object\",\n-     *\n-     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n-     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n-     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n-     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n-     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n-     *             )\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product updated successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n-     *             @OA\\Property(\n-     *                 property=\"data\",\n-     *                 type=\"object\",\n-     *                 @OA\\Property(\n-     *                     property=\"Product\",\n-     *                     type=\"object\",\n-     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n-     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n-     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n-     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n-     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n-     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n-     *                 )\n-     *             ),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=403,\n-     *         description=\"You are not authorized to update this Product.\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=400,\n-     *         description=\"Validation Error\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n-    {\n-        return $this->productService->updateProduct($product, $request->validated());\n-    }\n-\n-    /**\n-     * @OA\\Delete(\n-     *     path=\"/products/{id}\",\n-     *     summary=\"Delete a product by ID\",\n-     *     tags={\"Products\"},\n-     *     security={{\"bearerAuth\": {}}},\n-     *\n-     *     @OA\\Parameter(\n-     *         name=\"id\",\n-     *         in=\"path\",\n-     *         required=true,\n-     *         description=\"Product ID to delete\",\n-     *\n-     *         @OA\\Schema(\n-     *             type=\"integer\",\n-     *             example=10\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=200,\n-     *         description=\"Product deleted successfully!\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n-     *         )\n-     *     ),\n-     *\n-     *          @OA\\Response(\n-     *          response=403,\n-     *          description=\"You are not authorized to delete this Product.\",\n-     *\n-     *          @OA\\JsonContent(\n-     *\n-     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n-     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n-     *          )\n-     *      ),\n-     *\n-     *     @OA\\Response(\n-     *         response=404,\n-     *         description=\"Product Not Found\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n-     *         )\n-     *     ),\n-     *\n-     *     @OA\\Response(\n-     *         response=401,\n-     *         description=\"Unauthenticated\",\n-     *\n-     *         @OA\\JsonContent(\n-     *\n-     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n-     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n-     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n-     *         )\n-     *     )\n-     * )\n-     */\n-    public function destroy(Product $product): JsonResponse\n-    {\n-        return $this->productService->deleteProduct($product);\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746897784767,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,9 +167,9 @@\n      *                     type=\"object\",\n      *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n      *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n      *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n-     *                     @OA\\Property(property=\"decripti\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"decriptoi\", type=\"string\", example=\"2\"),\n      *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n      *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n      *                 )\n      *             ),\n"
                },
                {
                    "date": 1746897790504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,502 @@\n+<?php\n+\n+namespace App\\Http\\Controllers\\Product;\n+\n+use App\\Http\\Controllers\\Controller;\n+use App\\Http\\Requests\\Product\\CreateProductRequest;\n+use App\\Http\\Requests\\Product\\UpdateProductRequest;\n+use App\\Models\\Product\\Product;\n+use App\\Services\\Category\\CategoryService;\n+use App\\Services\\Product\\ProductService;\n+use Illuminate\\Http\\JsonResponse;\n+use Illuminate\\Http\\Request;\n+\n+class ProductController extends Controller\n+{\n+    public function __construct(protected ProductService $productService) {}\n+    /**\n+     * @OA\\SecurityScheme(\n+     *     securityScheme=\"bearerAuth\",\n+     *     type=\"http\",\n+     *     scheme=\"bearer\",\n+     *     bearerFormat=\"JWT\",\n+     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n+     * )\n+     */\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products\",\n+     *     summary=\"Get all products with sorting and pagination\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"page\",\n+     *         in=\"query\",\n+     *         description=\"Page number\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"items\",\n+     *         in=\"query\",\n+     *         description=\"Number of items per page\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"column\",\n+     *         in=\"query\",\n+     *         description=\"Column to order products by\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"name\", \"price\", \"amount\", \"description\"}, example=\"name\")\n+     *     ),\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"direction\",\n+     *         in=\"query\",\n+     *         description=\"Sort direction\",\n+     *\n+     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Products retrieved successfully\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Products\",\n+     *                     type=\"array\",\n+     *\n+     *                     @OA\\Items(\n+     *\n+     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n+     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n+     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n+     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n+     *                         @OA\\Property(property=\"store\", type=\"string\", example=\"autem\")\n+     *                     )\n+     *                 ),\n+     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n+     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Invalid sort column or direction\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, amount, description. Allowed directions: asc, desc.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function index(Request $request): JsonResponse\n+    {\n+        return $this->productService->getAllProducts($request);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products\",\n+     *     summary=\"Create product\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *                 required={\"name\", \"price\", \"amount\",\"description\" ,\"store_id\"},\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"description\", type=\"string\", example=\"New Product Description\"),\n+     *                 @OA\\Property(property=\"price\", type=\"integer\", example=10),\n+     *                 @OA\\Property(property=\"amount\", type=\"integer\", example=1),\n+     *                 @OA\\Property(property=\"store_id\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=201,\n+     *         description=\"Product created successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n+     *                     @OA\\Property(property=\"descripton\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n+     *             @OA\\Property(property=\"data\", type=\"object\",\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n+     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n+     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function store(CreateProductRequest $request): JsonResponse\n+    {\n+        return $this->productService->createProduct($request->validated(), $request);\n+    }\n+\n+    /**\n+     * @OA\\Get(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Get product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to retrieve\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=10)\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product retrieved successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n+     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n+     *                     @OA\\Property(\n+     *                         property=\"amounts\",\n+     *                         type=\"array\",\n+     *\n+     *                         @OA\\Items(\n+     *                             type=\"object\",\n+     *\n+     *                             @OA\\Property(\n+     *                                 property=\"classification\",\n+     *                                 type=\"object\",\n+     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n+     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n+     *                             ),\n+     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n+     *                         )\n+     *                     )\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function show(Product $product): JsonResponse\n+    {\n+        return $this->productService->getProductById($product);\n+    }\n+\n+    /**\n+     * @OA\\Post(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Update product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to update\",\n+     *\n+     *         @OA\\Schema(type=\"integer\", example=1)\n+     *     ),\n+     *\n+     *     @OA\\RequestBody(\n+     *         required=true,\n+     *\n+     *         @OA\\MediaType(\n+     *             mediaType=\"multipart/form-data\",\n+     *\n+     *             @OA\\Schema(\n+     *                 type=\"object\",\n+     *\n+     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n+     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n+     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n+     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n+     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n+     *             )\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product updated successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n+     *             @OA\\Property(\n+     *                 property=\"data\",\n+     *                 type=\"object\",\n+     *                 @OA\\Property(\n+     *                     property=\"Product\",\n+     *                     type=\"object\",\n+     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n+     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n+     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n+     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n+     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n+     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n+     *                 )\n+     *             ),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=403,\n+     *         description=\"You are not authorized to update this Product.\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=400,\n+     *         description=\"Validation Error\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n+    {\n+        return $this->productService->updateProduct($product, $request->validated());\n+    }\n+\n+    /**\n+     * @OA\\Delete(\n+     *     path=\"/products/{id}\",\n+     *     summary=\"Delete a product by ID\",\n+     *     tags={\"Products\"},\n+     *     security={{\"bearerAuth\": {}}},\n+     *\n+     *     @OA\\Parameter(\n+     *         name=\"id\",\n+     *         in=\"path\",\n+     *         required=true,\n+     *         description=\"Product ID to delete\",\n+     *\n+     *         @OA\\Schema(\n+     *             type=\"integer\",\n+     *             example=10\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=200,\n+     *         description=\"Product deleted successfully!\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n+     *         )\n+     *     ),\n+     *\n+     *          @OA\\Response(\n+     *          response=403,\n+     *          description=\"You are not authorized to delete this Product.\",\n+     *\n+     *          @OA\\JsonContent(\n+     *\n+     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n+     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n+     *          )\n+     *      ),\n+     *\n+     *     @OA\\Response(\n+     *         response=404,\n+     *         description=\"Product Not Found\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n+     *         )\n+     *     ),\n+     *\n+     *     @OA\\Response(\n+     *         response=401,\n+     *         description=\"Unauthenticated\",\n+     *\n+     *         @OA\\JsonContent(\n+     *\n+     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n+     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n+     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n+     *         )\n+     *     )\n+     * )\n+     */\n+    public function destroy(Product $product): JsonResponse\n+    {\n+        return $this->productService->deleteProduct($product);\n+    }\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1746894591581,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers\\Product;\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Http\\Requests\\Product\\CreateProductRequest;\nuse App\\Http\\Requests\\Product\\UpdateProductRequest;\nuse App\\Models\\Product\\Product;\nuse App\\Services\\Category\\CategoryService;\nuse App\\Services\\Product\\ProductService;\nuse Illuminate\\Http\\JsonResponse;\nuse Illuminate\\Http\\Request;\n\nclass ProductController extends Controller\n{\n    public function __construct(protected ProductService $productService) {}\n    /**\n     * @OA\\SecurityScheme(\n     *     securityScheme=\"bearerAuth\",\n     *     type=\"http\",\n     *     scheme=\"bearer\",\n     *     bearerFormat=\"JWT\",\n     *     description=\"Enter JWT Bearer token in the format 'Bearer {token}'\"\n     * )\n     */\n    /**\n     * @OA\\Get(\n     *     path=\"/products\",\n     *     summary=\"Get all products with sorting and pagination\",\n     *     tags={\"Products\"},\n     *     security={{\"bearerAuth\": {}}},\n     *\n     *     @OA\\Parameter(\n     *         name=\"page\",\n     *         in=\"query\",\n     *         description=\"Page number\",\n     *\n     *         @OA\\Schema(type=\"integer\", example=1)\n     *     ),\n     *\n     *     @OA\\Parameter(\n     *         name=\"items\",\n     *         in=\"query\",\n     *         description=\"Number of items per page\",\n     *\n     *         @OA\\Schema(type=\"integer\", example=10)\n     *     ),\n     *\n     *     @OA\\Parameter(\n     *         name=\"column\",\n     *         in=\"query\",\n     *         description=\"Column to order products by\",\n     *\n     *         @OA\\Schema(type=\"string\", enum={\"name\", \"current_price\", \"old_price\", \"created_at\", \"updated_at\"}, example=\"name\")\n     *     ),\n     *\n     *     @OA\\Parameter(\n     *         name=\"direction\",\n     *         in=\"query\",\n     *         description=\"Sort direction\",\n     *\n     *         @OA\\Schema(type=\"string\", enum={\"asc\", \"desc\"}, example=\"asc\")\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=200,\n     *         description=\"Products retrieved successfully\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Products retrieved successfully\"),\n     *             @OA\\Property(\n     *                 property=\"data\",\n     *                 type=\"object\",\n     *                 @OA\\Property(\n     *                     property=\"Products\",\n     *                     type=\"array\",\n     *\n     *                     @OA\\Items(\n     *\n     *                         @OA\\Property(property=\"id\", type=\"integer\", example=4),\n     *                         @OA\\Property(property=\"name\", type=\"string\", example=\"asperiores\"),\n     *                         @OA\\Property(property=\"image\", type=\"string\", example=\"https://via.placeholder.com/640x480.png/005599?text=technics+maxime\"),\n     *                         @OA\\Property(property=\"price\", type=\"integer\", example=170),\n     *                         @OA\\Property(property=\"pric\", type=\"integer\", example=979),\n     *                         @OA\\Property(property=\"category\", type=\"string\", example=\"autem\")\n     *                     )\n     *                 ),\n     *                 @OA\\Property(property=\"total_pages\", type=\"integer\", example=4),\n     *                 @OA\\Property(property=\"current_page\", type=\"integer\", example=1),\n     *                 @OA\\Property(property=\"hasMorePages\", type=\"boolean\", example=true)\n     *             ),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=400,\n     *         description=\"Invalid sort column or direction\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Invalid sort column or direction. Allowed columns: name, price, created_at, updated_at. Allowed directions: asc, desc.\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=401,\n     *         description=\"Unauthenticated\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n     *         )\n     *     )\n     * )\n     */\n    public function index(Request $request): JsonResponse\n    {\n        return $this->productService->getAllProducts($request);\n    }\n\n    /**\n     * @OA\\Post(\n     *     path=\"/products\",\n     *     summary=\"Create product\",\n     *     tags={\"Products\"},\n     *     security={{\"bearerAuth\": {}}},\n     *\n     *     @OA\\RequestBody(\n     *         required=true,\n     *\n     *         @OA\\MediaType(\n     *             mediaType=\"multipart/form-data\",\n     *\n     *             @OA\\Schema(\n     *                 type=\"object\",\n     *                 required={\"name\", \"old_price\", \"current_price\", \"category_id\"},\n     *\n     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=10),\n     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=1),\n     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=2),\n     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n     *             )\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=201,\n     *         description=\"Product created successfully!\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product created successfully!\"),\n     *             @OA\\Property(\n     *                 property=\"data\",\n     *                 type=\"object\",\n     *                 @OA\\Property(\n     *                     property=\"Product\",\n     *                     type=\"object\",\n     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/example.png\"),\n     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"2\"),\n     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"1\"),\n     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"voluptas\"),\n     *                 )\n     *             ),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=201)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=400,\n     *         description=\"Validation Error\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Validation failed\"),\n     *             @OA\\Property(property=\"data\", type=\"object\",\n     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"The name field is required.\"),\n     *                 @OA\\Property(property=\"old_price\", type=\"string\", example=\"The old price field is required.\"),\n     *                 @OA\\Property(property=\"current_price\", type=\"string\", example=\"The current price field is required.\"),\n     *                 @OA\\Property(property=\"category_id\", type=\"string\", example=\"The category_id field is required.\")\n     *             ),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=404,\n     *         description=\"Product Not Found\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=401,\n     *         description=\"Unauthenticated\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n     *         )\n     *     )\n     * )\n     */\n    public function store(CreateProductRequest $request): JsonResponse\n    {\n        return $this->productService->createProduct($request->validated(), $request);\n    }\n\n    /**\n     * @OA\\Get(\n     *     path=\"/products/{id}\",\n     *     summary=\"Get product by ID\",\n     *     tags={\"Products\"},\n     *     security={{\"bearerAuth\": {}}},\n     *\n     *     @OA\\Parameter(\n     *         name=\"id\",\n     *         in=\"path\",\n     *         required=true,\n     *         description=\"Product ID to retrieve\",\n     *\n     *         @OA\\Schema(type=\"integer\", example=10)\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=200,\n     *         description=\"Product retrieved successfully!\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product retrieved successfully!\"),\n     *             @OA\\Property(\n     *                 property=\"data\",\n     *                 type=\"object\",\n     *                 @OA\\Property(\n     *                     property=\"product\",\n     *                     type=\"object\",\n     *                     @OA\\Property(property=\"id\", type=\"integer\", example=10),\n     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"dolor\"),\n     *                     @OA\\Property(property=\"image\", type=\"string\", nullable=true, example=\"https://via.placeholder.com/640x480.png/00aa22?text=technics+commodi\"),\n     *                     @OA\\Property(property=\"current_price\", type=\"integer\", example=575),\n     *                     @OA\\Property(property=\"old_price\", type=\"integer\", example=829),\n     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"ullam\"),\n     *                     @OA\\Property(\n     *                         property=\"amounts\",\n     *                         type=\"array\",\n     *\n     *                         @OA\\Items(\n     *                             type=\"object\",\n     *\n     *                             @OA\\Property(\n     *                                 property=\"classification\",\n     *                                 type=\"object\",\n     *                                 @OA\\Property(property=\"id\", type=\"integer\", example=16),\n     *                                 @OA\\Property(property=\"name\", type=\"string\", example=\"earum\")\n     *                             ),\n     *                             @OA\\Property(property=\"quantity\", type=\"integer\", example=63)\n     *                         )\n     *                     )\n     *                 )\n     *             ),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=404,\n     *         description=\"Product Not Found\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=401,\n     *         description=\"Unauthenticated\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n     *         )\n     *     )\n     * )\n     */\n    public function show(Product $product): JsonResponse\n    {\n        return $this->productService->getProductById($product);\n    }\n\n    /**\n     * @OA\\Post(\n     *     path=\"/products/{id}\",\n     *     summary=\"Update product by ID\",\n     *     tags={\"Products\"},\n     *     security={{\"bearerAuth\": {}}},\n     *\n     *     @OA\\Parameter(\n     *         name=\"id\",\n     *         in=\"path\",\n     *         required=true,\n     *         description=\"Product ID to update\",\n     *\n     *         @OA\\Schema(type=\"integer\", example=1)\n     *     ),\n     *\n     *     @OA\\RequestBody(\n     *         required=true,\n     *\n     *         @OA\\MediaType(\n     *             mediaType=\"multipart/form-data\",\n     *\n     *             @OA\\Schema(\n     *                 type=\"object\",\n     *\n     *                 @OA\\Property(property=\"name\", type=\"string\", example=\"New Product Name\"),\n     *                 @OA\\Property(property=\"current_price\", type=\"integer\", example=20),\n     *                 @OA\\Property(property=\"old_price\", type=\"integer\", example=2),\n     *                 @OA\\Property(property=\"category_id\", type=\"integer\", example=3),\n     *                 @OA\\Property(property=\"image\", type=\"string\", format=\"binary\")\n     *             )\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=200,\n     *         description=\"Product updated successfully!\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product updated successfully!\"),\n     *             @OA\\Property(\n     *                 property=\"data\",\n     *                 type=\"object\",\n     *                 @OA\\Property(\n     *                     property=\"Product\",\n     *                     type=\"object\",\n     *                     @OA\\Property(property=\"id\", type=\"integer\", example=21),\n     *                     @OA\\Property(property=\"name\", type=\"string\", example=\"apples\"),\n     *                     @OA\\Property(property=\"image\", type=\"string\", example=\"http://127.0.0.1:8000/storage/images/QeK7usDiGbr0hMIEbha7fJuni3HSiEWJixmWhJgV.png\"),\n     *                     @OA\\Property(property=\"current_price\", type=\"string\", example=\"20\"),\n     *                     @OA\\Property(property=\"old_price\", type=\"string\", example=\"2\"),\n     *                     @OA\\Property(property=\"category\", type=\"string\", example=\"provident\")\n     *                 )\n     *             ),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=403,\n     *         description=\"You are not authorized to update this Product.\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to update this Product.\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=400,\n     *         description=\"Validation Error\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"The current_price field must be a number.\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=400)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=404,\n     *         description=\"Product Not Found\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=401,\n     *         description=\"Unauthenticated\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n     *         )\n     *     )\n     * )\n     */\n    public function update(UpdateProductRequest $request, Product $product): JsonResponse\n    {\n        return $this->productService->updateProduct($product, $request->validated());\n    }\n\n    /**\n     * @OA\\Delete(\n     *     path=\"/products/{id}\",\n     *     summary=\"Delete a product by ID\",\n     *     tags={\"Products\"},\n     *     security={{\"bearerAuth\": {}}},\n     *\n     *     @OA\\Parameter(\n     *         name=\"id\",\n     *         in=\"path\",\n     *         required=true,\n     *         description=\"Product ID to delete\",\n     *\n     *         @OA\\Schema(\n     *             type=\"integer\",\n     *             example=10\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=200,\n     *         description=\"Product deleted successfully!\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=true),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product deleted successfully!\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=200)\n     *         )\n     *     ),\n     *\n     *          @OA\\Response(\n     *          response=403,\n     *          description=\"You are not authorized to delete this Product.\",\n     *\n     *          @OA\\JsonContent(\n     *\n     *              @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *              @OA\\Property(property=\"message\", type=\"string\", example=\"You are not authorized to delete this Product.\"),\n     *              @OA\\Property(property=\"status_code\", type=\"integer\", example=403)\n     *          )\n     *      ),\n     *\n     *     @OA\\Response(\n     *         response=404,\n     *         description=\"Product Not Found\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Product Not Found\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=404)\n     *         )\n     *     ),\n     *\n     *     @OA\\Response(\n     *         response=401,\n     *         description=\"Unauthenticated\",\n     *\n     *         @OA\\JsonContent(\n     *\n     *             @OA\\Property(property=\"successful\", type=\"boolean\", example=false),\n     *             @OA\\Property(property=\"message\", type=\"string\", example=\"Unauthenticated\"),\n     *             @OA\\Property(property=\"status_code\", type=\"integer\", example=401)\n     *         )\n     *     )\n     * )\n     */\n    public function destroy(Product $product): JsonResponse\n    {\n        return $this->productService->deleteProduct($product);\n    }\n}"
        }
    ]
}